import{d as A,a as u,t as B,c as R}from"./components.c8d2cf33.js";import{F as L,u as M}from"./provide.5bbdf46b.js";import{L as T}from"./index.90eb3963.js";import{R as U}from"./index.ebf8ba42.js";import{d as W,b as H,_ as P,n as j,t as F,ab as E,h as b,i as N,p as C,K as g,H as c,k as K,j as q,l as G,x as I}from"./elevation.0a6066f5.js";const J={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number],default:20},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const{n:O,classes:Q}=R("switch"),X=W({name:"VarSwitch",components:{VarLoading:T,VarFormDetails:L},directives:{Ripple:U},props:J,setup(e){const{bindForm:p,form:a}=M(),{errorMessage:i,validateWithTrigger:k,validate:$,resetValidation:m}=A(),y=()=>$(e.rules,e.modelValue),V=()=>j(()=>k(["onChange"],"onChange",e.rules,e.modelValue)),f=H(()=>{const{size:n,modelValue:o,color:r,closeColor:d,loadingColor:v,activeValue:s}=e,l=B(n),t=l*2,h=l*1.2;return{handle:{width:`${n}px`,height:`${n}px`,backgroundColor:o===s?r||"":d||"",color:v&&v},ripple:{left:o===s?`${l/2}px`:`-${l/2}px`,color:o===s?r||"":d||"#999",width:`${l*2}px`,height:`${l*2}px`},track:{height:`${h*.6}px`,width:`${t-2}px`,borderRadius:`${t/3}px`,filter:o===s||(i==null?void 0:i.value)?"opacity(.6)":"brightness(.6)",backgroundColor:o===s?r||"":d||""},switch:{height:`${h}px`,width:`${t}px`}}}),D=n=>{const{onClick:o,onChange:r,disabled:d,loading:v,readonly:s,modelValue:l,activeValue:t,inactiveValue:h,"onUpdate:modelValue":z}=e;if(u(o,n),d||v||s||(a==null?void 0:a.disabled.value)||(a==null?void 0:a.readonly.value))return;const S=l===t?h:t;u(r,S),u(z,S),V()};return u(p,{reset:()=>{u(e["onUpdate:modelValue"],e.inactiveValue),m()},validate:y,resetValidation:m}),{n:O,classes:Q,switchActive:D,toNumber:B,styleComputed:f,errorMessage:i,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly}}});function Y(e,p,a,i,k,$){const m=F("var-loading"),y=F("var-form-details"),V=E("ripple");return b(),N("div",{class:c(e.n())},[C("div",{class:c(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disable")])),onClick:p[0]||(p[0]=(...f)=>e.switchActive&&e.switchActive(...f)),style:g(e.styleComputed.switch)},[C("div",{style:g(e.styleComputed.track),class:c(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track-active")],[e.errorMessage,e.n("track-error")]))},null,6),K((b(),N("div",{class:c(e.n("ripple")),style:g(e.styleComputed.ripple)},[C("div",{style:g(e.styleComputed.handle),class:c(e.classes(e.n("handle"),"var-elevation--2",[e.modelValue===e.activeValue,e.n("handle-active")],[e.errorMessage,e.n("handle-error")]))},[e.loading?(b(),q(m,{key:0,radius:e.toNumber(e.size)/2-2},null,8,["radius"])):G("v-if",!0)],6)],6)),[[V,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),I(y,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var w=P(X,[["render",Y]]);w.install=function(e){e.component(w.name,w)};export{w as S};
