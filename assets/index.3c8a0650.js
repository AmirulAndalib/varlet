import{d as N,c as B,f as C}from"./components.964f072b.js";import{t as H,d as I,g as P}from"./elements.86ad7447.js";import{d as R,a as o,b as v,w as O,v as V,x as A,o as D,u as U,Z,_ as j,f as q,h as G,M as J,O as K,N as F,R as T}from"./vue-router.esm-bundler.53acc020.js";const Q={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:N()},{n:X,classes:Y}=B("sticky"),_=R({name:"VarSticky",props:Q,setup(e){const i=o(null),l=o(null),s=o(!1),r=o("0px"),f=o("0px"),b=o("auto"),h=o("auto"),x=o("auto"),S=o("auto"),$=v(()=>!e.disabled&&e.cssMode),k=v(()=>!e.disabled&&s.value),d=v(()=>H(e.offsetTop));let t;const c=()=>{const{cssMode:a,disabled:L}=e;if(L)return;let p=0;if(t!==window){const{top:E}=t.getBoundingClientRect();p=E}const g=l.value,u=i.value,{top:W,left:z}=u.getBoundingClientRect(),M=W-p;return M<=d.value?(a||(b.value=`${u.offsetWidth}px`,h.value=`${u.offsetHeight}px`,r.value=`${p+d.value}px`,f.value=`${z}px`,x.value=`${g.offsetWidth}px`,S.value=`${g.offsetHeight}px`,s.value=!0),{offsetTop:d.value,isFixed:!0}):(s.value=!1,{offsetTop:M,isFixed:!1})},n=()=>{const a=c();a&&C(e.onScroll,a.offsetTop,a.isFixed)},w=async()=>{await I(),t=P(i.value),t!==window&&t.addEventListener("scroll",n),window.addEventListener("scroll",n),n()},y=()=>{t!==window&&t.removeEventListener("scroll",n),window.removeEventListener("scroll",n)};return O(()=>e.disabled,c),V(w),A(y),D(w),U(y),{n:X,classes:Y,resize:c,stickyEl:i,wrapperEl:l,isFixed:s,offsetTop:d,fixedTop:r,fixedLeft:f,fixedWidth:b,fixedHeight:h,fixedWrapperWidth:x,fixedWrapperHeight:S,enableCSSMode:$,enableFixedMode:k,toNumber:Z}}});function ee(e,i,l,s,r,f){return q(),G("div",{class:F(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:T({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[J("div",{class:F(e.n("wrapper")),ref:"wrapperEl",style:T({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[K(e.$slots,"default")],6)],6)}const m=j(_,[["render",ee]]);m.install=function(e){e.component(m.name,m)};export{m as S,Q as p};
