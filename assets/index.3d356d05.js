import{R as v}from"./index.f2551d5c.js";import{p as c,L as b}from"./index.0d248bd6.js";import{p as f,g as h}from"./components.ab85c650.js";import{_ as k}from"./elevation.229458c1.js";import{d as B,r as C,b as $,e as z,f as S,w as T,o as p,c as L,l as V,p as d,h as N,a as R,G as w,n as D}from"./vendor.49f89f0d.js";function F(e){return["default","primary","info","success","warning","danger"].includes(e)}function P(e){return["normal","mini","small","large"].includes(e)}const A={type:{type:String,default:"default",validator:F},size:{type:String,default:"normal",validator:P},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String],default:12},loadingType:f(c,"type"),loadingSize:f(c,"size"),onClick:{type:Function},onTouchstart:{type:Function}};const{n:a,classes:g}=h("button"),E=B({name:"VarButton",components:{VarLoading:b},directives:{Ripple:v},props:A,setup(e){const t=C(!1),u=$(()=>g([a(),"var--box",a(`--${e.size}`),[e.block,`var--flex ${a("--block")}`,"var--inline-flex"],[e.disabled,a("--disabled")],[e.text,`${a(`--text-${e.type}`)} ${a("--text")}`,`${a(`--${e.type}`)} var-elevation--2`],[e.text&&e.disabled,a("--text-disabled")],[e.round,a("--round")],[e.outline,a("--outline")]])),s=n=>{e.autoLoading&&(t.value=!0,Promise.resolve(n).finally(()=>{t.value=!1}))};return{n:a,classes:g,buttonClass:u,pending:t,handleClick:n=>{const{loading:l,disabled:o,onClick:i}=e;!i||l||o||t.value||s(i(n))},handleTouchstart:n=>{const{loading:l,disabled:o,onTouchstart:i}=e;!i||l||o||t.value||s(i(n))}}}}),G=["disabled"];function j(e,t,u,s,m,y){const n=z("var-loading"),l=S("ripple");return T((p(),L("button",{class:d(e.buttonClass),style:D({color:e.textColor,background:e.color}),disabled:e.disabled,onClick:t[0]||(t[0]=(...o)=>e.handleClick&&e.handleClick(...o)),onTouchstart:t[1]||(t[1]=(...o)=>e.handleTouchstart&&e.handleTouchstart(...o))},[e.loading||e.pending?(p(),V(n,{key:0,class:d(e.n("loading")),"var-button-cover":"",type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","type","size","radius"])):N("v-if",!0),R("div",{class:d(e.classes([e.n("content"),[e.loading||e.pending,e.n("--hidden")]]))},[w(e.$slots,"default")],2)],46,G)),[[l,{disabled:e.disabled||!e.ripple}]])}var r=k(E,[["render",j]]);r.install=function(e){e.component(r.name,r)};export{r as B};
