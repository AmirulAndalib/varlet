import{R as v}from"./index.f2551d5c.js";import{p as g,L as b}from"./index.0d248bd6.js";import{p as m,g as h}from"./components.eb3d19cc.js";import{_ as k}from"./elevation.229458c1.js";import{d as B,r as C,b as $,e as z,f as S,w as T,o as y,c as L,l as V,p as r,h as N,a as R,G as w,n as D}from"./vendor.49f89f0d.js";function F(e){return["default","primary","info","success","warning","danger"].includes(e)}function P(e){return["normal","mini","small","large"].includes(e)}const A={type:{type:String,default:"default",validator:F},size:{type:String,default:"normal",validator:P},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String],default:12},loadingType:m(g,"type"),loadingSize:m(g,"size"),onClick:{type:Function},onTouchstart:{type:Function}};const E=B({name:"VarButton",components:{VarLoading:b},directives:{Ripple:v},props:A,setup(e){const{n:a,classes:l}=h("button"),n=C(!1),c=$(()=>l([a(),"var--box",a(`--${e.size}`),[e.block,`var--flex ${a("--block")}`,"var--inline-flex"],[e.disabled,a("--disabled")],[e.text,`${a(`--text-${e.type}`)} ${a("--text")}`,`${a(`--${e.type}`)} var-elevation--2`],[e.text&&e.disabled,a("--text-disabled")],[e.round,a("--round")],[e.outline,a("--outline")]])),i=t=>{e.autoLoading&&(n.value=!0,Promise.resolve(t).finally(()=>{n.value=!1}))};return{n:a,classes:l,buttonClass:c,pending:n,handleClick:t=>{const{loading:s,disabled:d,onClick:o}=e;!o||s||d||n.value||i(o(t))},handleTouchstart:t=>{const{loading:s,disabled:d,onTouchstart:o}=e;!o||s||d||n.value||i(o(t))}}}}),G=["disabled"];function j(e,a,l,n,c,i){const f=z("var-loading"),p=S("ripple");return T((y(),L("button",{class:r(e.buttonClass),style:D({color:e.textColor,background:e.color}),disabled:e.disabled,onClick:a[0]||(a[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onTouchstart:a[1]||(a[1]=(...t)=>e.handleTouchstart&&e.handleTouchstart(...t))},[e.loading||e.pending?(y(),V(f,{key:0,class:r(e.n("loading")),"var-button-cover":"",type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","type","size","radius"])):N("v-if",!0),R("div",{class:r(e.classes([e.n("content"),[e.loading||e.pending,e.n("--hidden")]]))},[w(e.$slots,"default")],2)],46,G)),[[p,{disabled:e.disabled||!e.ripple}]])}var u=k(E,[["render",j]]);u.install=function(e){e.component(u.name,u)};export{u as B};
