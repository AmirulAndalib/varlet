import{A as w}from"./AppType.508f1df8.js";import{h as j,r as L}from"./elements.b48a056c.js";import{c as O,t as b,a as B,A as q}from"./components.16071c98.js";import{_ as N}from"./elevation.de90c470.js";import{d as G,r as i,y as Y,o as M,c as U,G as J,a3 as K,a4 as Q,p as W,m as r,t as a,i as o,V as t,j as n,F as X,a as C,_ as Z,$ as tt}from"./vendor.a72d4487.js";import{S as et}from"./index.7a4780f5.js";import{B as $}from"./index.b99e8325.js";import{R as ot}from"./index.3ee3045b.js";import{d as at}from"./index.079ade67.js";import{u as st,a as H,_ as nt,b as ut,c as rt}from"./en-US.b8fb5a02.js";import{w as lt,a as ct}from"./utils.43106f58.js";import"./index.036456bb.js";import"./index.4cf8d00c.js";import"./zIndex.96cdd16d.js";import"./index.2157300c.js";import"./lock.433059c9.js";import"./index.b62f6511.js";/* empty css               */const mt={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const{n:it}=O("countdown"),k=1e3,x=60*k,A=60*x,E=24*A,dt=G({name:"VarCountdown",props:mt,setup(e){const l=i(0),c=i(!1),v=i(""),h=i(0),f=i(0),s=i({days:0,hours:0,minutes:0,seconds:0,milliseconds:0}),m=p=>{const F=Math.floor(p/E),g=Math.floor(p%E/A),S=Math.floor(p%A/x),_=Math.floor(p%x/k),P=Math.floor(p%k),T={days:F,hours:g,minutes:S,seconds:_,milliseconds:P};s.value=T,B(e.onChange,s.value),v.value=q(e.format,T)},y=()=>{const{time:p,onEnd:F,autoStart:g}=e,S=Date.now();l.value||(l.value=S+b(p));let _=l.value-S;if(_<0&&(_=0),f.value=_,m(_),_===0){B(F);return}(g||c.value)&&(h.value=L(y))},R=()=>{c.value||(c.value=!0,l.value=Date.now()+(f.value||b(e.time)),y())},V=()=>{c.value=!1},D=()=>{l.value=0,c.value=!1,j(h.value),y()};return Y(()=>e.time,()=>D(),{immediate:!0}),{showTime:v,timeData:s,n:it,start:R,pause:V,reset:D}}});function ft(e,l,c,v,h,f){return M(),U("div",{class:W(e.n())},[J(e.$slots,"default",K(Q(e.timeData)),()=>[r(a(e.showTime),1)])],2)}var d=N(dt,[["render",ft]]);d.install=function(e){e.component(d.name,d)};var pt={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},_t={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:z,use:vt,pack:u,packs:jt,merge:Lt}=st(),ht=e=>{rt(e),vt(e)};H("zh-CN",nt);H("en-US",ut);z("zh-CN",pt);z("en-US",_t);const I=e=>(Z("data-v-78d1b29f"),e=e(),tt(),e),wt={class:"countdown-block"},Ct=I(()=>C("span",{class:"countdown-colon"},":",-1)),St={class:"countdown-block"},yt=I(()=>C("span",{class:"countdown-colon"},":",-1)),Ft={class:"countdown-block"},gt={setup(e){const l=i(null),c=i(3e3),v=()=>{et.info("end!")},h=()=>{console.log("change")};return lt(ht),ct(at),(f,s)=>(M(),U(X,null,[o(t(w),null,{default:n(()=>[r(a(t(u).basicUsage),1)]),_:1}),o(t(d),{time:"108000000"}),o(t(w),null,{default:n(()=>[r(a(t(u).customFormat),1)]),_:1}),o(t(d),{time:"108000000",format:t(u).format},null,8,["format"]),o(t(w),null,{default:n(()=>[r(a(t(u).showMillisecond),1)]),_:1}),o(t(d),{time:"108000000",format:"HH : mm : ss : SS"}),o(t(w),null,{default:n(()=>[r(a(t(u).customStyle),1)]),_:1}),o(t(d),{time:"108000000"},{default:n(m=>[C("span",wt,a(m.hours),1),Ct,C("span",St,a(m.minutes),1),yt,C("span",Ft,a(m.seconds),1)]),_:1}),o(t(w),null,{default:n(()=>[r(a(t(u).manualControl),1)]),_:1}),o(t(d),{time:c.value,ref_key:"countdown",ref:l,"auto-start":!1,format:"ss : SSS",onEnd:v,onChange:h},null,8,["time"]),o(t(ot),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:n(()=>[o(t($),{type:"primary",onClick:s[0]||(s[0]=m=>f.$refs.countdown.start())},{default:n(()=>[r(a(t(u).startText),1)]),_:1}),o(t($),{onClick:s[1]||(s[1]=m=>f.$refs.countdown.pause())},{default:n(()=>[r(a(t(u).pauseText),1)]),_:1}),o(t($),{onClick:s[2]||(s[2]=m=>f.$refs.countdown.reset())},{default:n(()=>[r(a(t(u).resetText),1)]),_:1})]),_:1})],64))}};var Ot=N(gt,[["__scopeId","data-v-78d1b29f"]]);export{Ot as default};
