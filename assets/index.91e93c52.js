var R=Object.defineProperty;var C=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var f=(e,s,o)=>s in e?R(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,k=(e,s)=>{for(var o in s||(s={}))z.call(s,o)&&f(e,o,s[o]);if(C)for(var o of C(s))V.call(s,o)&&f(e,o,s[o]);return e};import{R as I}from"./index.f2551d5c.js";import{p as U,P as A}from"./index.0701ebd4.js";import{I as F}from"./index.104aa199.js";import{p as N,g as D,h as w,m as T}from"./components.eb3d19cc.js";import{g as j,h as q}from"./shared.83dd8d6b.js";import{p as E}from"./en-US.628e0d34.js";import{_ as G}from"./elevation.229458c1.js";import{d as H,r as L,y as J,e as S,f as K,o as i,l as g,j as M,a as y,G as O,H as $,p as c,t as b,c as B,k as Q,w as W,n as X,h as Y,F as Z,q as _,z as x}from"./vendor.49f89f0d.js";const ee=k({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:{type:Function},"onUpdate:show":{type:Function}},N(U,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const oe=H({name:"VarActionSheet",directives:{Ripple:I},components:{VarPopup:A,VarIcon:F},inheritAttrs:!1,props:ee,setup(e){const{n:s,classes:o}=D("action-sheet"),p=L(!1),n=a=>{if(a.disabled)return;const{closeOnClickAction:m,onSelect:u}=e;w(u,a),m&&w(e["onUpdate:show"],!1)};return J(()=>e.show,a=>{p.value=a},{immediate:!0}),{n:s,classes:o,popupShow:p,pack:E,dt:j,handleSelect:n}}}),se=["onClick"];function ne(e,s,o,p,n,a){const m=S("var-icon"),u=S("var-popup"),P=K("ripple");return i(),g(u,$({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":l=>{var v,h;return(h=(v=e.$props)["onUpdate:show"])==null?void 0:h.call(v,l)}},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:M(()=>[y("div",$({class:e.classes([e.n(),"var--box"])},e.$attrs),[O(e.$slots,"title",{},()=>[y("div",{class:c(e.n("title"))},b(e.dt(e.title,e.pack.actionSheetTitle)),3)]),O(e.$slots,"actions",{},()=>[(i(!0),B(Z,null,Q(e.actions,l=>W((i(),B("div",{class:c(e.classes([e.n("action-item"),l.className,[l.disabled,e.n("--disabled")]])),key:l.name,style:X({color:l.color}),onClick:v=>e.handleSelect(l)},[l.icon?(i(),g(m,{key:0,class:c(e.n("action-icon")),"var-action-sheet-cover":"",name:l.icon,size:l.iconSize},null,8,["class","name","size"])):Y("v-if",!0),y("div",{class:c(e.n("action-name"))},b(l.name),3)],14,se)),[[P,{disabled:l.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var r=G(oe,[["render",ne]]);let t;function d(e){return q()?new Promise(s=>{d.close();const o=_(e);o.teleport="body",t=o;const{unmountInstance:p}=T(r,o,{onSelect:n=>{var a;(a=o.onSelect)==null||a.call(o,n),s(n)},onClose:()=>{var n;(n=o.onClose)==null||n.call(o),s("close")},onClosed:()=>{var n;(n=o.onClosed)==null||n.call(o),p(),t===o&&(t=null)},onRouteChange:()=>{p(),t===o&&(t=null)},"onUpdate:show":n=>{o.show=n}});o.show=!0}):Promise.resolve()}d.Component=r;r.install=function(e){e.component(r.name,r)};d.close=()=>{if(t!=null){const e=t;t=null,x().then(()=>{e.show=!1})}};d.install=function(e){e.component(r.name,r)};export{d as A};
