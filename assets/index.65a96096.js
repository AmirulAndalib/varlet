import{a as Q,u as j,F as H}from"./provide.732783ad.js";import{c as J,i as K}from"./components.3467a955.js";import{d as X,b as I,aN as Z,_ as T,f as w,h as A,O,N as R,M as W,q as s,ap as e,n as ee,r as ae,a as x,ac as le,ay as oe,S as u,F as se,P as d,Q as m,az as U,al as te,am as re}from"./vue-router.esm-bundler.34317ebb.js";import{g as ue,h as N,t as ne,c as de}from"./elements.6cdeda8d.js";import{l as me}from"./shared.f164cbda.js";import{I as P}from"./index.1838bd37.js";import{S as D}from"./index.73d2955e.js";import{O as F}from"./index.ba2570e6.js";import{C as ie}from"./index.421a4971.js";import{C as $}from"./index.6be0312a.js";import{R as pe,a as z}from"./index.384ebd32.js";import{B as b}from"./index.165a818c.js";import{S as ce}from"./index.c0c7b49f.js";import{S as ge}from"./index.36304545.js";import{U as fe}from"./index.9cb24c71.js";import{C as Ee}from"./index.008e45a8.js";import{R as ve}from"./index.878938d4.js";import{S as L}from"./index.a49dc659.js";import{I as ye}from"./index.6d2543c3.js";import{d as Ve}from"./index.e436054e.js";import{u as Fe,a as Y,_ as Ce,b as be,c as Me}from"./index.0907a6d7.js";import"./index.15c71d05.js";import"./zIndex.3abb4089.js";import"./index.791cbee6.js";import"./index.592ec33a.js";import"./index.f25368c3.js";/* empty css               */import"./index.3cb5b454.js";import"./index.786a7817.js";import"./lock.52f500fb.js";import"./index.a6b7b706.js";import"./index.1ce1139b.js";import"./provide.d0472b88.js";import"./index.cd145c6a.js";function _e(r){return["start","end"].includes(r)}const ke={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},scrollToError:{type:String,validator:_e},scrollToErrorOffsetY:{type:[String,Number],default:0}},{n:Be}=J("form"),xe=X({name:"VarForm",props:ke,setup(r){const t=I(()=>r.disabled),p=I(()=>r.readonly),{formItems:n,bindFormItems:f}=Q(),E=(c,i)=>{setTimeout(()=>{const g=ue(i),v=g===window?0:N(g),V=N(i)-v-ne(r.scrollToErrorOffsetY);de(g,{top:V,animation:me})},300)},o=async()=>{var i;const c=await Promise.all(n.map(({validate:g})=>g()));if(r.scrollToError){const[g,v]=Z(c,C=>C===!1,r.scrollToError),V=v>-1;if(V){const C=(i=n[v].instance.proxy)==null?void 0:i.$el;E(v,C)}return!V}return c.every(g=>g===!0)},a=()=>n.forEach(({reset:c})=>c()),_=()=>n.forEach(({resetValidation:c})=>c());return f({disabled:t,readonly:p}),{n:Be,validate:o,reset:a,resetValidation:_}}});function Ue(r,t,p,n,f,E){return w(),A("div",{class:R(r.n())},[O(r.$slots,"default")],2)}const y=T(xe,[["render",Ue]]);y.install=function(r){r.component(y.name,y)};y.useValidation=K;y.useForm=j;const $e={props:{modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},validateTrigger:{type:Array,default:()=>["onToggle"]},extraMessage:{type:String}},emits:["update:modelValue"],setup(r,{expose:t,emit:p}){const n=r,{useForm:f,useValidation:E}=y,{errorMessage:o,validateWithTrigger:a,validate:_,resetValidation:k}=E(),{bindForm:c,form:i}=f(),g=()=>{p("update:modelValue",!1),k()},v=()=>_(n.rules,n.modelValue),V=B=>{ee(()=>{const{validateTrigger:S,rules:M,modelValue:q}=n;a(S,B,M,q)})},C=()=>{n.readonly||n.disabled||(i==null?void 0:i.readonly.value)||(i==null?void 0:i.disabled.value)||(p("update:modelValue",!n.modelValue),V("onToggle"))},h={reset:g,validate:v,resetValidation:k};return t(h),c==null||c(h),(B,S)=>{var M;return w(),A("div",{class:R(["var-custom-form-component",{"var-custom-form-component--disabled":r.disabled||((M=e(i))==null?void 0:M.disabled.value),"var-custom-form-component--error":e(o)}])},[W("div",{class:"var-custom-form-component__container",onClick:C},[s(e(ye),{class:"var-custom-form-component__icon",name:r.modelValue?"checkbox-marked-circle":"close-circle",transition:250},null,8,["name"]),O(B.$slots,"default",{},void 0,!0)]),s(e(H),{"error-message":e(o),"extra-message":r.extraMessage},null,8,["error-message","extra-message"])],2)}}},Te=T($e,[["__scopeId","data-v-15caf58f"]]),we={example:"\u8868\u5355\u793A\u4F8B",username:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",usernameMessage:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",password:"\u8BF7\u8F93\u5165\u5BC6\u7801",passwordMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801",department:"\u8BF7\u9009\u62E9\u90E8\u95E8",departmentMessage:"\u5FC5\u987B\u9009\u4E00\u4E2A\u90E8\u95E8",eat:"\u5403\u996D",sleep:"\u7761\u89C9",play:"\u6253\u6E38\u620F",departmentUnit:"\u90E8",group:"\u8BF7\u9009\u62E9\u7EC4\u7EC7",groupMessage:"\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u7EC4\u7EC7",groupUnit:"\u7EC4",genderMessage:"\u5FC5\u987B\u9009\u62E9\u4E00\u4E2A\u6027\u522B",male:"\u7537",female:"\u5973",rateMessage:"\u5FC5\u987B\u5927\u4E8E2",likeMessage:"\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u7231\u597D",licenseMessage:"\u60A8\u5FC5\u987B\u5F00\u542F",countMessage:"\u5FC5\u987B\u5927\u4E8E10",rangeMessage:"\u5FC5\u987B\u5927\u4E8E10",filesMessage:"\u81F3\u5C11\u4E0A\u4F20\u4E00\u5F20\u56FE\u7247",customFormComponent:"\u81EA\u5B9A\u4E49\u8868\u5355\u7EC4\u4EF6",customLabel:"\u70B9\u6211\u5207\u6362",customErrorMessage:"\u5FC5\u987B\u662F\u5BF9\u52FE",customExtraMessage:"\u9644\u52A0\u4FE1\u606F",controller:"\u8868\u5355\u63A7\u5236",reset:"\u6E05\u7A7A\u8868\u5355",resetValidation:"\u6E05\u7A7A\u9A8C\u8BC1",validate:"\u89E6\u53D1\u9A8C\u8BC1",disabled:"\u8868\u5355\u7981\u7528",readonly:"\u8868\u5355\u53EA\u8BFB"},Ae={example:"Form Example",username:"Please input username",usernameMessage:"The username cannot be empty",password:"Please input password",passwordMessage:"The password cannot be empty",department:"Please select department",departmentMessage:"The select cannot be empty",eat:"Eat",sleep:"Sleep",play:"Play game",departmentUnit:" department",group:"Please select group",groupMessage:"The select cannot be empty",groupUnit:" group",genderMessage:"The gender cannot be empty",male:"Male",female:"Female",rateMessage:"It has to be greater than 2",likeMessage:"The select cannot be empty",licenseMessage:"You must turn on",countMessage:"It has to be greater than 10",rangeMessage:"It has to be greater than 10",filesMessage:"Upload at least one picture",customFormComponent:"Custom Form Component",customLabel:"Click toggle",customErrorMessage:"Please check it",customExtraMessage:"Extra message",controller:"Form control",reset:"Empty form",resetValidation:"Empty the validation",validate:"Trigger validation",disabled:"Form disabled",readonly:"Form readonly"},{add:G,use:he,pack:l,packs:ya,merge:Va}=Fe(),Se=r=>{Me(r),he(r)};Y("zh-CN",Ce);Y("en-US",be);G("zh-CN",we);G("en-US",Ae);const Ie=r=>(te("data-v-9749827c"),r=r(),re(),r),Ne=Ie(()=>W("div",{class:"space"},null,-1)),Pe={setup(r){const t=ae({username:"",password:"",department:"",gender:void 0,license:!1,range:0,count:0,group:[],score:0,like:[],files:[],custom:!1}),p=x(null),n=x(!1),f=x(!1);return le(E=>{var o;Se(E),(o=p.value)==null||o.reset()}),oe(Ve),(E,o)=>(w(),A(se,null,[s(e(U),null,{default:u(()=>[d(m(e(l).example),1)]),_:1}),s(e(y),{ref_key:"form",ref:p,disabled:n.value,readonly:f.value,"scroll-to-error":"start","scroll-to-error-offset-y":"14.4vw"},{default:u(()=>[s(e(L),{direction:"column",size:["4vw",0]},{default:u(()=>[s(e(P),{placeholder:e(l).username,rules:[a=>!!a||e(l).usernameMessage],modelValue:e(t).username,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).username=a)},null,8,["placeholder","rules","modelValue"]),s(e(P),{type:"password",placeholder:e(l).password,rules:[a=>!!a||e(l).passwordMessage],modelValue:e(t).password,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).password=a)},null,8,["placeholder","rules","modelValue"]),s(e(D),{placeholder:e(l).department,rules:[a=>!!a||e(l).departmentMessage],modelValue:e(t).department,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).department=a)},{default:u(()=>[s(e(F),{label:`${e(l).eat}${e(l).departmentUnit}`},null,8,["label"]),s(e(F),{label:`${e(l).sleep}${e(l).departmentUnit}`},null,8,["label"]),s(e(F),{label:`${e(l).play}${e(l).departmentUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),s(e(D),{multiple:"",placeholder:e(l).group,rules:[a=>a.length>=1||e(l).groupMessage],modelValue:e(t).group,"onUpdate:modelValue":o[3]||(o[3]=a=>e(t).group=a)},{default:u(()=>[s(e(F),{label:`${e(l).eat}${e(l).groupUnit}`},null,8,["label"]),s(e(F),{label:`${e(l).sleep}${e(l).groupUnit}`},null,8,["label"]),s(e(F),{label:`${e(l).play}${e(l).groupUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),s(e(pe),{rules:[a=>!!a||e(l).genderMessage],modelValue:e(t).gender,"onUpdate:modelValue":o[4]||(o[4]=a=>e(t).gender=a)},{default:u(()=>[s(e(z),{"checked-value":1},{default:u(()=>[d(m(e(l).male),1)]),_:1}),s(e(z),{"checked-value":2},{default:u(()=>[d(m(e(l).female),1)]),_:1})]),_:1},8,["rules","modelValue"]),s(e(ie),{rules:[a=>a.length>0||e(l).likeMessage],modelValue:e(t).like,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).like=a)},{default:u(()=>[s(e($),{"checked-value":1},{default:u(()=>[d(m(e(l).eat),1)]),_:1}),s(e($),{"checked-value":2},{default:u(()=>[d(m(e(l).sleep),1)]),_:1}),s(e($),{"checked-value":3},{default:u(()=>[d(m(e(l).play),1)]),_:1})]),_:1},8,["rules","modelValue"]),s(e(ve),{rules:[a=>a>=3||e(l).rateMessage],modelValue:e(t).score,"onUpdate:modelValue":o[6]||(o[6]=a=>e(t).score=a)},null,8,["rules","modelValue"]),s(e(ce),{rules:[a=>!!a||e(l).licenseMessage],modelValue:e(t).license,"onUpdate:modelValue":o[7]||(o[7]=a=>e(t).license=a)},null,8,["rules","modelValue"]),s(e(Ee),{rules:[a=>a>10||e(l).countMessage],modelValue:e(t).count,"onUpdate:modelValue":o[8]||(o[8]=a=>e(t).count=a)},null,8,["rules","modelValue"]),s(e(ge),{rules:[a=>a>10||e(l).rangeMessage],modelValue:e(t).range,"onUpdate:modelValue":o[9]||(o[9]=a=>e(t).range=a)},null,8,["rules","modelValue"]),s(e(fe),{rules:[a=>a.length>=1||e(l).filesMessage],modelValue:e(t).files,"onUpdate:modelValue":o[10]||(o[10]=a=>e(t).files=a)},null,8,["rules","modelValue"])]),_:1}),s(e(U),null,{default:u(()=>[d(m(e(l).customFormComponent),1)]),_:1}),s(e(Te),{"extra-message":e(l).customExtraMessage,rules:[a=>!!a||e(l).customErrorMessage],modelValue:e(t).custom,"onUpdate:modelValue":o[11]||(o[11]=a=>e(t).custom=a)},{default:u(()=>[d(m(e(l).customLabel),1)]),_:1},8,["extra-message","rules","modelValue"])]),_:1},8,["disabled","readonly"]),s(e(U),null,{default:u(()=>[d(m(e(l).controller),1)]),_:1}),s(e(L),{direction:"column",size:["4vw",0]},{default:u(()=>[s(e(b),{block:"",type:"danger",onClick:o[12]||(o[12]=a=>p.value.reset())},{default:u(()=>[d(m(e(l).reset),1)]),_:1}),s(e(b),{block:"",type:"warning",onClick:o[13]||(o[13]=a=>p.value.resetValidation())},{default:u(()=>[d(m(e(l).resetValidation),1)]),_:1}),s(e(b),{block:"",type:"success",onClick:o[14]||(o[14]=a=>p.value.validate())},{default:u(()=>[d(m(e(l).validate),1)]),_:1}),s(e(b),{block:"",type:"info",onClick:o[15]||(o[15]=a=>n.value=!n.value)},{default:u(()=>[d(m(e(l).disabled),1)]),_:1}),s(e(b),{block:"",type:"primary",onClick:o[16]||(o[16]=a=>f.value=!f.value)},{default:u(()=>[d(m(e(l).readonly),1)]),_:1})]),_:1}),Ne],64))}},Fa=T(Pe,[["__scopeId","data-v-9749827c"]]);export{Fa as default};
